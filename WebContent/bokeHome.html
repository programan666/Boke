<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>博客主页面</title>
		<link rel="icon" href="img/title.ico" type="img/x-ico" />
		<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css"/>
		<link href="https://fonts.googleapis.com/css?family=David+Libre|Hind:400,700" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<link rel="stylesheet" type="text/css" href="css/htmleaf-demo.css"/>
		<link rel="stylesheet" type="text/css" href="css/bootstrap-touch-slider.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<script type="text/javascript" src="js/global.js"></script>
		<script type="text/javascript" src="ueditor/third-party/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="layer/layer.js"></script>

	</head>
	<body>
		
		<header class="cd-auto-hide-header">
			<div class="logo"><a href="#0"><img src="img/logo.jpg" alt="Logo"></a></div>
	
			<nav class="cd-primary-nav">
				<a href="#cd-navigation" class="nav-trigger">
					<span>
						<em aria-hidden="true"></em>
						Menu
					</span>
				</a> <!-- .nav-trigger -->
	
				<ul id="cd-navigation">
					<li><a href="#0">主页</a></li>
					<li><a href="#0">留言</a></li>
					<li><a href="#0" onclick="gotoArticle()">写博客</a></li>
					<li id="unDengLu"><a href="login.html">登录</a></li>
					<li id="unZhuCe"><a href="regist.html">注册</a></li>
				</ul>
			</nav>
		</header> 
		
		<div class="container">
			
			<div class="left-daohang">
				<ul id="articleType">
					<li>
						<a onclick="getArticleByType(8)">人工智能</a>
					</li>
				</ul>
			</div>
			
			<div class="right-content">
				<div class="main-body">
					
					<div id="bootstrap-touch-slider" class="carousel bs-slider fade  control-round indicators-line" data-ride="carousel" data-pause="hover" data-interval="5000" >

			            <!-- Indicators -->
			            <ol class="carousel-indicators">
			                <li data-target="#bootstrap-touch-slider" data-slide-to="0" class="active"></li>
			                <li data-target="#bootstrap-touch-slider" data-slide-to="1"></li>
			                <li data-target="#bootstrap-touch-slider" data-slide-to="2"></li>
			            </ol>
		
			            <!-- Wrapper For Slides -->
			            <div class="carousel-inner" role="listbox">
		
			                <!-- Third Slide -->
			                <div class="item active">
		
			                    <!-- Slide Background -->
			                    <img src="img/slide1.jpeg" alt="Bootstrap Touch Slider"  class="slide-image"/>
			                    <div class="bs-slider-overlay"></div>
		
			                    <div class="container">
			                        <div class="row">
			                            <!-- Slide Text Layer -->
			                            <div class="slide-text slide_style_left">
			                                <h1 data-animation="animated zoomInRight">Bootstrap Carousel</h1>
			                                <p data-animation="animated fadeInLeft">Bootstrap carousel now touch enable slide.</p>
			                                <a href="#" target="_blank" class="btn btn-default" data-animation="animated fadeInLeft">select one</a>
			                                <a href="#" target="_blank"  class="btn btn-primary" data-animation="animated fadeInRight">select two</a>
			                            </div>
			                        </div>
			                    </div>
			                </div>
			                <!-- End of Slide -->
		
			                <!-- Second Slide -->
			                <div class="item">
		
			                    <!-- Slide Background -->
			                    <img src="img/slide2.jpeg" alt="Bootstrap Touch Slider"  class="slide-image"/>
			                    <div class="bs-slider-overlay"></div>
			                    <!-- Slide Text Layer -->
			                    <div class="slide-text slide_style_center">
			                        <h1 data-animation="animated flipInX">Bootstrap touch slider</h1>
			                        <p data-animation="animated lightSpeedIn">Make Bootstrap Better together.</p>
			                        <a href="#" target="_blank" class="btn btn-default" data-animation="animated fadeInUp">select one</a>
			                        <a href="#" target="_blank"  class="btn btn-primary" data-animation="animated fadeInDown">select two</a>
			                    </div>
			                </div>
			                <!-- End of Slide -->
		
			                <!-- Third Slide -->
			                <div class="item">
		
			                    <!-- Slide Background -->
			                    <img src="img/slide3.jpeg" alt="Bootstrap Touch Slider"  class="slide-image"/>
			                    <div class="bs-slider-overlay"></div>
			                    <!-- Slide Text Layer -->
			                    <div class="slide-text slide_style_right">
			                        <h1 data-animation="animated zoomInLeft">Beautiful Animations</h1>
			                        <p data-animation="animated fadeInRight">Lots of css3 Animations to make slide beautiful .</p>
			                        <a href="#" target="_blank" class="btn btn-default" data-animation="animated fadeInLeft">select one</a>
			                        <a href="#" target="_blank" class="btn btn-primary" data-animation="animated fadeInRight">select two</a>
			                    </div>
			                </div>
			                <!-- End of Slide -->
		
		
			            </div><!-- End of Wrapper For Slides -->
		
			            <!-- Left Control -->
			            <a class="left carousel-control" href="#bootstrap-touch-slider" role="button" data-slide="prev">
			                <span class="fa fa-angle-left" aria-hidden="true"></span>
			                <span class="sr-only">Previous</span>
			            </a>
		
			            <!-- Right Control -->
			            <a class="right carousel-control" href="#bootstrap-touch-slider" role="button" data-slide="next">
			                <span class="fa fa-angle-right" aria-hidden="true"></span>
			                <span class="sr-only">Next</span>
			            </a>
			        </div> 
			        
			        
		        	<ul class="article-body" id="articleContainer">
		        		
		        		<li class="article-box">
		        			<div class="title">
		        				<a href="">java学习之java高级特性</a>
		        			</div>
		        			<dl class="user-list">
		        				<dd>
		        					<a href="">编程语言</a>
		        				</dd>
		        				<dt style="position: relative;width: 20px;">
		        					<img src="img/touxiang.jpg" width="18" style="position: absolute;"/>
		        				</dt>
		        				<dd style="margin-left: 22px;">
		        					染红岁月
		        				</dd>
		        				<dd>
		        					04月14日
		        				</dd>
		        				<dd>
		        					最新文章
		        				</dd>
		        			</dl>
		        			<div class="article-readers">
		        				<div class="visit-num">12</div>
		        				<div class="visit-title">阅读量</div>
		        			</div>
		        		</li>
		        		
		        	</ul>
			        
				</div>
				
				
				<div class="aside">222</div>
				
				
			</div>
			
		</div>
		
	
		<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/bootstrap-touch-slider-min.js"></script>
		<script type="text/javascript">
         //   $('#bootstrap-touch-slider').bsTouchSlider();
         
            
            $(document).ready(function(){
            	$.getJSON(baseUrl+'/articleController/articleList.do',function(data){
            //		alert("999");
					$.each(data,function(index,article){
						var html = '<li class="article-box">';
						html += '<div class="title"><a target="_blank" href="'+ article.articleLink +'">'+ article.articleName +'</a></div>';
						html += '<dl class="user-list">';
						html += '<dd><a href="">'+ article.articleType.name +'</a></dd>';
						html += '<dt style="position: relative;width: 20px;"><img src="img/touxiang.jpg" width="18" style="position: absolute;"/></dt>';
						html += '<dd style="margin-left: 22px;">'+ article.author.authorName +'</dd>';
						html += '<dd>'+ article.creationDT +'</dd>';
						html += '<dd>最新文章</dd>';
						html += '</dl>';
						html += '<div class="article-readers">';
						html += '<div class="visit-num">'+ article.visitsNumber +'</div>';
						html += '<div class="visit-title">阅读量</div>';
						html += '</div>';
						html += '</li>';
						$('#articleContainer').append(html);
					});
				}).fail(function (jqXHR, textStatus, errorThrown) {
//  var defaultOption = 'US'
//  selectDropdownByText('Id', defaultOption);

    console.log(errorThrown);
});
				
				$.getJSON(baseUrl+'/articleTypeController/articleType.do',function(data){
					$.each(data,function(index,articleType){
						var html = '<li>';
						html += '<a onclick="getArticleByType('+ articleType.id +')">'+ articleType.name +'</a>';
						html += '</li>';
						$('#articleType').append(html);
					});
				}).fail(function (jqXHR, textStatus, errorThrown) {
//  var defaultOption = 'US'
//  selectDropdownByText('Id', defaultOption);

    console.log(errorThrown);
});
				
				var author = JSON.parse(sessionStorage.getItem("author"));
				//alert(author.author.userName);
				console.log(author);
				if(author){
					var html = '<li><a href="#0">'+ author.userName +'</a></li>';
					
					$('#cd-navigation').append(html);
					
					$('#unDengLu').addClass("display-none");
					$('#unZhuCe').addClass("display-none");
				}
				
            });
            
            
            function getArticleByType(id){
     			var account = {
     				articleTypeID:id
     			}
            	$.getJSON(baseUrl+'/articleController/articleList.do',account,function(data){
            //		alert("777");
            		$('#articleContainer').html("");
					$.each(data,function(index,article){
						var html = '<li class="article-box">';
						html += '<div class="title"><a target="_blank" href="'+ article.articleLink +'">'+ article.articleName +'</a></div>';
						html += '<dl class="user-list">';
						html += '<dd><a href="">'+ article.articleType.name +'</a></dd>';
						html += '<dt style="position: relative;width: 20px;"><img src="img/touxiang.jpg" width="18" style="position: absolute;"/></dt>';
						html += '<dd style="margin-left: 22px;">'+ article.author.authorName +'</dd>';
						html += '<dd>'+ article.creationDT +'</dd>';
						html += '<dd>最新文章</dd>';
						html += '</dl>';
						html += '<div class="article-readers">';
						html += '<div class="visit-num">'+ article.visitsNumber +'</div>';
						html += '<div class="visit-title">阅读量</div>';
						html += '</div>';
						html += '</li>';
						$('#articleContainer').append(html);
					});
				}).fail(function (jqXHR, textStatus, errorThrown) {
//  var defaultOption = 'US'
//  selectDropdownByText('Id', defaultOption);

    console.log(errorThrown);
});
            }
            
            function gotoArticle(){
            	var author = JSON.parse(sessionStorage.getItem("author"));
				//alert(author.author.userName);
				if(author){
					location.href = "article.html";
				}
				else{
					layer.msg("请先登录");
				}
            }
            
        </script>
	</body>
</html>
